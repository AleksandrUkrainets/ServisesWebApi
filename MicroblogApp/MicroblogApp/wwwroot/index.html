<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Microblog - C# the best language ;-)</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css" />

    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/blog/">

    <meta name="theme-color" content="#7952b3">


    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>
    <link href="/css/blog.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="blog-header py-3">
            <div class="row flex-nowrap justify-content-between align-items-center">
                <div class="col-4 pt-1 ">
                </div>
                <div class="col-4 text-center">
                    <a class="blog-header-logo text-dark" href="#">Microblog</a>
                </div>
                <div class="col-4 d-flex justify-content-end align-items-center">
                    <form _lpchecked="1">
                        <input class="form-control " type="text" placeholder="Search" aria-label="Search">
                    </form>
                </div>
            </div>
        </header>

    </div>

    <main class="container">
        <div class="p-4 p-md-5 mb-4 text-white rounded bg-dark">
            <div class="col-md-12 px-0">
                <h1 class="display-6 font-italic">Title of a longer featured blog post</h1>
                <p class="lead my-3">Multiple lines of text that form the lede, informing new readers quickly and efficiently about what’s most interesting in this post’s contents.</p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-8" id="posts">
                <article class="blog-post">
                    <h2 class="blog-post-title">Sample blog post</h2>
                    <p class="blog-post-meta">January 1, 2014 by <a href="#">Mark</a></p>
                    <p>Cum sociis natoque penatibus et magnis <a href="#">dis parturient montes</a>, nascetur ridiculus mus. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Sed posuere consectetur est at lobortis. Cras mattis consectetur purus sit amet fermentum.</p>
                    <hr>
                </article><!-- /.blog-post -->

                <article class="blog-post">
                    <h2 class="blog-post-title">Another blog post</h2>
                    <p class="blog-post-meta">December 23, 2013 by <a href="#">Jacob</a></p>
                    <p>Cum sociis natoque penatibus et magnis <a href="#">dis parturient montes</a>, nascetur ridiculus mus. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Sed posuere consectetur est at lobortis. Cras mattis consectetur purus sit amet fermentum.</p>
                    <hr>
                </article><!-- /.blog-post -->

                <article class="blog-post">
                    <h2 class="blog-post-title">New feature</h2>
                    <p class="blog-post-meta">December 14, 2013 by <a href="#">Chris</a></p>
                    <p>Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Aenean lacinia bibendum nulla sed consectetur. Etiam porta sem malesuada magna mollis euismod. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
                    <hr>
                </article><!-- /.blog-post -->

                <div class="blog-post" style="display: none;" id="templates">
                    <div id='post-template'>
                        <h2 class="blog-post-title" id='post-title'></h2>
                        <p class="blog-post-meta" id='post-meta'></p>
                        <p id='post-headline'></p>
                        <hr>
                    </div>
                </div>

                <div id="posts">
                </div>

            </div>

            <div class="col-md-4">
                <form>
                    <h1 class="h3 mb-3 fw-normal">Please sign in</h1>
                    <label for="inputEmail" class="visually-hidden">Email address</label>
                    <input type="email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus>
                    <label for="inputPassword" class="visually-hidden">Password</label>
                    <input type="password" id="inputPassword" class="form-control" placeholder="Password" required>
                    <br>
                    <button class="w-100 btn btn-lg btn-outline-success" type="submit">Sign in</button>
                    <button class="w-100 btn btn-lg btn-outline-secondary" type="button" id="register">Register</button>
                </form>
                <br>
                <div class="p-4 mb-3 bg-light rounded">
                    <h4 class="font-italic">About</h4>
                    <p class="mb-0">Etiam porta <em>sem malesuada magna</em> mollis euismod. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur.</p>
                </div>
                <br>
                <div class="p-4">
                    <h4 class="font-italic">Elsewhere</h4>
                    <ol class="list-unstyled">
                        <li><a href="#">GitHub</a></li>
                        <li><a href="#">Twitter</a></li>
                        <li><a href="#">Facebook</a></li>
                    </ol>
                </div>
            </div>

        </div><!-- /.row -->

    </main><!-- /.container -->

    <footer class="blog-footer">
        <p>Blog template built for <a href="https://getbootstrap.com/">Bootstrap</a> by <a href="https://twitter.com/mdo">@mdo</a>.</p>
        <p>
            <a href="#">Back to top</a>
        </p>
    </footer>

    <script src="/js/bootstrap.bundle.min.js" type="text/javascript"></script>
    <script src="/lib/jquery/dist/jquery.js" type="text/javascript"></script>
    <script type="text/javascript">

        var _userrole = "";
        var tokenKey = "accessToken";
        GetNotes();

        async function GetNotes() {
            const response = await fetch("http://localhost:62114/api/notes/", {
                method: "GET",
                headers: { "Accept": "application/json" }
            });
            if (response.ok === true) {
                const notes = await response.json();
                for (let i = 0; i < notes.length; i++) {
                    rows(notes[i]);
                }
            }
        }

        function rows(note) {
            let posts = $("#posts");
            let meta = note.userName;
            let noteid = note.id;
            let headline = note.description;
            let title = note.title;
            let postClone = $("#templates #post-template").clone().attr('id', 'id-' + noteid);
            postClone.find("#post-title").text(title);
            postClone.find("#post-headline").text(headline);
            postClone.find("#post-meta").text(meta);
            posts.append(postClone);
        }

    </script>
</body>
</html>
